{"version":3,"file":"base.js","sourceRoot":"","sources":["../src/base.ts"],"names":[],"mappings":";;AAAA,uCAA2C;AAC3C,qCAAqC;AACrC,mDAAqD;AACrD,uDAAgD;AAIhD;IAII,mBAAY,OAAqB;QAE7B,IAAI,CAAC,cAAc,GAAG,IAAA,2BAAc,EAAC,OAAO,CAAC,CAAA;QAE7C,IAAM,cAAc,GAAG,OAAO,OAAO,CAAC,cAAc,KAAK,UAAU;YAC/D,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,CAAC;YACjC,CAAC,CAAC,IAAA,qBAAS,EAAC,OAAO,CAAC,cAAc,IAAI,sBAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAA;QAC/D,IAAM,UAAU,GAAG,OAAO,OAAO,CAAC,cAAc,KAAK,UAAU;YAC3D,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC,OAAO,CAAC;YACjC,CAAC,CAAC,IAAA,qBAAS,EAAC,OAAO,CAAC,cAAc,IAAI,sBAAO,CAAC,OAAO,CAAC,WAAW,CAAC,CAAA;QAEtE,IAAI,CAAC,OAAO,GAAG;YACX,YAAY,EAAE,IAAA,gBAAI,EAAC,UAAU,EAAE,sBAAO,CAAC,MAAM,CAAC;YAC9C,cAAc,gBAAA;YACd,UAAU,EAAE,IAAA,gBAAI,EAAC,UAAU,EAAE,sBAAO,CAAC,IAAI,CAAC;SAC7C,CAAA;QAED,IAAI,OAAO,CAAC,kBAAkB,EAAE,CAAC;YAC7B,OAAO,CAAC,GAAG,CAAC,sCAAsC,CAAC,CAAA;YACnD,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC,CAAA;YAC3B,OAAO,CAAC,GAAG,CAAC,sCAAsC,CAAC,CAAA;YACnD,IAAA,qBAAU,EAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,CAAA;YACrC,IAAA,qBAAU,EAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAA;QACvC,CAAC;IACL,CAAC;IACL,gBAAC;AAAD,CAAC,AA7BD,IA6BC","sourcesContent":["import { join, normalize } from 'node:path'\nimport { removeSync } from 'fs-extra'\nimport { defaultOptions } from './helpers/options.js'\nimport { FOLDERS } from './helpers/constants.js'\nimport type { Folders } from './base.interfaces'\nimport type { ClassOptions, DefaultOptions } from './helpers/options.interfaces'\n\nexport default class BaseClass {\n    defaultOptions: DefaultOptions\n    folders: Folders\n\n    constructor(options: ClassOptions) {\n        // determine default options\n        this.defaultOptions = defaultOptions(options)\n\n        const baselineFolder = typeof options.baselineFolder === 'function'\n            ? options.baselineFolder(options)\n            : normalize(options.baselineFolder || FOLDERS.DEFAULT.BASE)\n        const baseFolder = typeof options.screenshotPath === 'function'\n            ? options.screenshotPath(options)\n            : normalize(options.screenshotPath || FOLDERS.DEFAULT.SCREENSHOTS)\n\n        this.folders = {\n            actualFolder: join(baseFolder, FOLDERS.ACTUAL),\n            baselineFolder,\n            diffFolder: join(baseFolder, FOLDERS.DIFF),\n        }\n\n        if (options.clearRuntimeFolder) {\n            console.log('\\n\\n\\n##############################')\n            console.log('!!CLEARING!!')\n            console.log('##############################\\n\\n\\n')\n            removeSync(this.folders.actualFolder)\n            removeSync(this.folders.diffFolder)\n        }\n    }\n}\n"]}