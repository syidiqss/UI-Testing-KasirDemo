"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
var vitest_1 = require("vitest");
var fs_extra_1 = require("fs-extra");
var node_path_1 = require("node:path");
var base_js_1 = __importDefault(require("./base.js"));
(0, vitest_1.describe)('BaseClass', function () {
    (0, vitest_1.it)('should be able to create BaseClass with options', function () {
        var instance = new base_js_1.default({
            baselineFolder: './subfolder//../baseline',
            screenshotPath: './../my_folder//screenshots',
        });
        (0, vitest_1.expect)(instance.folders.actualFolder).toBe('../my_folder/screenshots/actual');
        (0, vitest_1.expect)(instance.folders.baselineFolder).toBe('baseline');
        (0, vitest_1.expect)(instance.folders.diffFolder).toBe('../my_folder/screenshots/diff');
    });
    (0, vitest_1.it)('should be able to create baselineFolder with a function', function () {
        var options = {
            baseline: './subfolder//../baseline',
            screenshot: './../my_folder//screenshots',
        };
        var setPath = function (folderPath) {
            return folderPath;
        };
        var instance = new base_js_1.default({
            baselineFolder: setPath(options.baseline),
            screenshotPath: setPath(options.screenshot),
        });
        (0, vitest_1.expect)(instance.folders.actualFolder).toBe('../my_folder/screenshots/actual');
        (0, vitest_1.expect)(instance.folders.baselineFolder).toBe('baseline');
        (0, vitest_1.expect)(instance.folders.diffFolder).toBe('../my_folder/screenshots/diff');
    });
    (0, vitest_1.it)('should be able to create BaseClass with default options', function () {
        var instance = new base_js_1.default({});
        (0, vitest_1.expect)(instance.folders.actualFolder).toBe('.tmp/actual');
        (0, vitest_1.expect)(instance.folders.baselineFolder).toBe('wic/baseline/');
        (0, vitest_1.expect)(instance.folders.diffFolder).toBe('.tmp/diff');
    });
    (0, vitest_1.it)('should remove the actual and diff folder if this is needed', function () {
        var actual = (0, node_path_1.join)(process.cwd(), '/.tmp/actual');
        var diff = (0, node_path_1.join)(process.cwd(), '/.tmp/diff');
        (0, fs_extra_1.ensureDirSync)(actual);
        (0, fs_extra_1.ensureDirSync)(diff);
        (0, vitest_1.expect)((0, fs_extra_1.pathExistsSync)(actual)).toEqual(true);
        (0, vitest_1.expect)((0, fs_extra_1.pathExistsSync)(diff)).toEqual(true);
        (0, vitest_1.expect)((0, fs_extra_1.pathExistsSync)(actual)).toEqual(false);
        (0, vitest_1.expect)((0, fs_extra_1.pathExistsSync)(diff)).toEqual(false);
    });
});
//# sourceMappingURL=base.spec.js.map