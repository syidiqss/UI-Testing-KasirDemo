{"version":3,"file":"getAndroidStatusAddressToolBarOffsets.js","sourceRoot":"","sources":["../../src/clientSideScripts/getAndroidStatusAddressToolBarOffsets.ts"],"names":[],"mappings":";;AAMA,SAAwB,qCAAqC,CACzD,cAA8B,EAC9B,EAA4E;QAA1E,WAAW,iBAAA,EAAE,WAAW,iBAAA;IAGpB,IAAA,KAAoB,MAAM,CAAC,MAAM,EAA/B,MAAM,YAAA,EAAE,KAAK,WAAkB,CAAA;IAC/B,IAAA,WAAW,GAAK,MAAM,YAAX,CAAW;IAC9B,IAAM,KAAK,GAAG,SAAS,CAAC,UAAU,CAAC,KAAK,CAAC,+BAA+B,CAAE,CAAA;IAC1E,IAAM,YAAY,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAA;IAC3C,IAAM,cAAc,GAAG,cAAc,CAAC,YAAY,CAAC,CAAA;IAEnD,IAAM,YAAY,GAAG,WAAW,IAAI,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAA;IACnE,IAAM,WAAW,GAAG,WAAW,IAAI,MAAM,GAAG,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,CAAA;IAClE,IAAM,sBAAsB,GAAG,cAAc,CAAC,UAAU,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,WAAW,CAAC,CAAA;IACzG,IAAI,aAAa,GAAG,MAAM,GAAG,WAAW,GAAG,sBAAsB,CAAA;IAEjE,IAAI,aAAa,GAAG,CAAC,EAAE,CAAC;QACpB,aAAa,GAAG,cAAc,CAAC,QAAQ,CAAA;IAC3C,CAAC;IAGD,OAAO;QAEH,QAAQ,EAAE,CAAC;QACX,YAAY,EAAE,YAAY;QAC1B,WAAW,EAAE,WAAW;QACxB,gBAAgB,EAAE;YACd,MAAM,EAAE,sBAAsB;YAC9B,KAAK,OAAA;YACL,CAAC,EAAE,CAAC;YACJ,CAAC,EAAE,CAAC;SACP;QAED,OAAO,EAAE,EAAE,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;QAC5C,OAAO,EAAE;YACL,MAAM,EAAE,aAAa;YACrB,KAAK,OAAA;YACL,CAAC,EAAE,CAAC;YACJ,CAAC,EAAE,MAAM,GAAG,aAAa;SAC5B;KACJ,CAAA;AACL,CAAC;AAzCD,wDAyCC","sourcesContent":["import type { StatusAddressToolBarOffsets } from './statusAddressToolBarOffsets.interfaces'\nimport type { AndroidOffsets } from '../helpers/constants.interfaces'\n\n/**\n * Get the current height of the Android status and address bar\n */\nexport default function getAndroidStatusAddressToolBarOffsets(\n    androidOffsets: AndroidOffsets,\n    { isHybridApp, isLandscape }: { isHybridApp: boolean; isLandscape: boolean },\n): StatusAddressToolBarOffsets {\n    // Determine version for the right offsets\n    const { height, width } = window.screen\n    const { innerHeight } = window\n    const match = navigator.appVersion.match(/Android (\\d+).?(\\d+)?.?(\\d+)?/)!\n    const majorVersion = parseInt(match[1], 10)\n    const versionOffsets = androidOffsets[majorVersion]\n    // Not sure if it's a bug, but in Landscape mode the height is the width\n    const deviceHeight = isLandscape && width > height ? width : height\n    const deviceWidth = isLandscape && height > width ? height : width\n    const statusAddressBarHeight = versionOffsets.STATUS_BAR + (isHybridApp ? 0 : versionOffsets.ADDRESS_BAR)\n    let toolBarHeight = height - innerHeight - statusAddressBarHeight\n\n    if (toolBarHeight < 0) {\n        toolBarHeight = versionOffsets.TOOL_BAR\n    }\n\n    // Determine status, address and tool bar height\n    return {\n        // For now Android doesn't have a safe area\n        safeArea: 0,\n        screenHeight: deviceHeight,\n        screenWidth: deviceWidth,\n        statusAddressBar: {\n            height: statusAddressBarHeight,\n            width,\n            x: 0,\n            y: 0,\n        },\n        // For now Android doesn't have a side bar\n        sideBar: { height: 0, width: 0, x: 0, y: 0 },\n        toolBar: {\n            height: toolBarHeight,\n            width,\n            x: 0,\n            y: height - toolBarHeight,\n        },\n    }\n}\n"]}