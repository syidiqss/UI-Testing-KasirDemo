{"version":3,"file":"checkTabbablePage.js","sourceRoot":"","sources":["../../src/commands/checkTabbablePage.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGA,yGAA+E;AAE/E,yGAA+E;AAC/E,oFAA0D;AAM1D,SAA8B,iBAAiB,CAC3C,OAAgB,EAChB,YAA0B,EAC1B,OAAgB,EAChB,GAAW,EACX,oBAA0C,EAC1C,eAAwB;;;;;;oBAGxB,IAAI,eAAe,EAAE,CAAC;wBAClB,MAAM,IAAI,KAAK,CAAC,yFAAyF,CAAC,CAAA;oBAC9G,CAAC;oBAGD,WAAM,OAAO,CAAC,QAAQ,CAAC,iCAAoB,EAAE,oBAAoB,CAAC,GAAG,CAAC,eAAe,CAAC,EAAA;;oBAAtF,SAAsF,CAAA;oBAG1D,WAAM,IAAA,gCAAmB,EAAC,OAAO,EAAE,YAAY,EAAE,OAAO,EAAE,GAAG,EAAE,oBAAoB,EAAE,eAAe,CAAC,EAAA;;oBAA3H,mBAAmB,GAAG,SAAqG;oBAGjI,WAAM,OAAO,CAAC,QAAQ,CAAC,iCAAoB,EAAE,qBAAqB,CAAC,EAAA;;oBAAnE,SAAmE,CAAA;oBAGnE,WAAO,mBAAmB,EAAA;;;;CAC7B;AAxBD,oCAwBC","sourcesContent":["import type { Methods } from '../methods/methods.interfaces'\nimport type { InstanceData } from '../methods/instanceData.interfaces'\nimport type { Folders } from '../base.interfaces'\nimport drawTabbableOnCanvas from '../clientSideScripts/drawTabbableOnCanvas.js'\nimport type { CheckTabbableOptions } from './tabbable.interfaces'\nimport removeElementFromDom from '../clientSideScripts/removeElementFromDom.js'\nimport checkFullPageScreen from './checkFullPageScreen.js'\nimport type { ImageCompareResult } from '..'\n\n/**\n * Compare an image with all tab executions\n */\nexport default async function checkTabbablePage(\n    methods: Methods,\n    instanceData: InstanceData,\n    folders: Folders,\n    tag: string,\n    checkTabbableOptions: CheckTabbableOptions,\n    isNativeContext: boolean,\n): Promise<ImageCompareResult | number> {\n    // 1a. Check if the method is supported in native context\n    if (isNativeContext) {\n        throw new Error('The method checkTabbablePage is not supported in native context for native mobile apps!')\n    }\n\n    // 1b. Inject drawing the tabbables\n    await methods.executor(drawTabbableOnCanvas, checkTabbableOptions.wic.tabbableOptions)\n\n    // 2. Create the screenshot\n    const fullPageCompareData = await checkFullPageScreen(methods, instanceData, folders, tag, checkTabbableOptions, isNativeContext)\n\n    // 3. Remove the canvas\n    await methods.executor(removeElementFromDom, 'wic-tabbable-canvas')\n\n    // 4. Return the data\n    return fullPageCompareData\n}\n"]}